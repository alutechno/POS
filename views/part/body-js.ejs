<!-- AdminLTE -->
<script src="/tmpl/plugins/jQuery/jquery-2.2.3.min.js"></script>
<script src="/tmpl/bootstrap/js/bootstrap.min.js"></script>
<script src="/tmpl/plugins/iCheck/icheck.min.js"></script>
<script src="/tmpl/plugins/slimScroll/jquery.slimscroll.min.js"></script>
<script src="/tmpl/plugins/fastclick/fastclick.js"></script>
<script src="/tmpl/dist/js/app.min.js"></script>
<script src="/tmpl/dist/js/demo.js"></script>
<!-- Virtual keyboard -->
<script src="/vendor/vkeyboard/docs/js/jquery-ui.min.js"></script>
<script src="/vendor/vkeyboard/js/jquery.keyboard.js"></script>
<script src="/vendor/vkeyboard/js/jquery.keyboard.extension-all.js"></script>
<!-- Personal -->
<script>
    App.virtualKeyboard = function () {
        var s = $('input[type="currency"]');
        s.keyboard({layout: 'num'});
        s.css('text-align', 'end');
        s.on('focus', function(){
            let v = $(this).val();
            if (!v || v == "0.00") {
                $(this).val('')
			} else {
                $(this).val(
                    parseFloat(v.replace(/\,/g, ""))
                	.toFixed(0).toString()
                	.replace(/\B(?=(\d{3})+(?!\d))/g, ",")
				)
			}
		})
        s.on('change', function () {
            var el = $(this);
            var val = el.val() || "0";
            el.data('value', parseFloat(val.replace(/\,/g, "")).toFixed(2));
            el.data('display',
                parseFloat(val.replace(/\,/g, ""))
                .toFixed(2).toString()
                .replace(/\B(?=(\d{3})+(?!\d))/g, ",")
            );
            el.attr('value', el.data('display'));
            el.val(el.data('display'));
        });

        $('input[type="text"]').keyboard({layout: 'qwerty'});
        $('textarea').keyboard({layout: 'qwerty'});
	}
</script>