<!-- AdminLTE -->
<script src="/tmpl/plugins/jQuery/jquery-2.2.3.min.js"></script>
<script src="/tmpl/bootstrap/js/bootstrap.min.js"></script>
<script src="/tmpl/plugins/iCheck/icheck.min.js"></script>
<script src="/tmpl/plugins/slimScroll/jquery.slimscroll.min.js"></script>
<script src="/tmpl/plugins/fastclick/fastclick.js"></script>
<script src="/tmpl/dist/js/app.min.js"></script>
<script src="/tmpl/dist/js/demo.js"></script>
<script src="/vendor/bootstrap-table/dist/bootstrap-table.min.js"></script>
<!-- Virtual keyboard -->
<script src="/vendor/vkeyboard/docs/js/jquery-ui.min.js"></script>
<script src="/vendor/vkeyboard/js/jquery.keyboard.js"></script>
<script src="/vendor/vkeyboard/js/jquery.keyboard.extension-all.js"></script>
<!-- Personal -->
<script>
    App.getRole();
    App.virtualKeyboard = function () {
        var opts = {
            autoAccept: true,
			autoAcceptOnEsc:true,
            appendLocally:true,
            initialFocus:true,
            lockInput:false, //dont force disabled keyboard
            noFocus:false, //force focus input!
		};
        var text = $('input[type="text"]');
        var textarea = $('textarea');
        var currency = $('input[type="currency"]');
        var number = $('input[type="number"]');
        var password = $('input[type="password"]');
        currency.keyboard(Object.assign(new Object(opts), {layout: 'numpad'}));
        currency.css('text-align', 'end');
        currency.on('focus', function(){
            let v = $(this).val();
            if (!v || v == "0.00") {
                $(this).val('')
			} else {
                $(this).val(
                    parseFloat(v.replace(/\,/g, ""))
                	.toFixed(0).toString()
                	.replace(/\B(?=(\d{3})+(?!\d))/g, ",")
				)
			}
		})
        currency.on('change', function () {
            var el = $(this);
            var val = el.val() || "0";
            el.data('value', parseFloat(val.replace(/\,/g, "")).toFixed(2));
            el.data('display',
                parseFloat(val.replace(/\,/g, ""))
                .toFixed(2).toString()
                .replace(/\B(?=(\d{3})+(?!\d))/g, ",")
            );
            el.attr('value', el.data('display'));
            el.val(el.data('display'));
        });
        password.keyboard(Object.assign(new Object(opts), {layout: 'qwerty'}));
        number.keyboard(Object.assign(new Object(opts), {layout: 'numpad'}));
        text.keyboard(Object.assign(new Object(opts), {layout: 'qwerty'}));
        textarea.keyboard(Object.assign(new Object(opts), {layout: 'qwerty'}));
	}
</script>